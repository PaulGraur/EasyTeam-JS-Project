{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,2OCAzDH,EAAA,S,wFCAA,I,EAAAI,EAAAJ,EAAA,SCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,iBDG5F,MAGMC,EAAgBC,SAASC,cAAc,oBAEvCC,EAAa,IAAI,EAAAX,EAAAY,SAyBvB,SAASC,EAAaC,GACpBC,QAAQC,IAAIF,GAEZ,MAAMG,EAAeH,EAClBI,KAAIC,GACI,0CAC0BA,EAAKC,+DACED,EAAKE,iEACPF,EAAKG,8YAKWC,EAAAtB,oJAOvDuB,KAAK,IAERhB,EAAciB,UAAYR,EAE1BT,EAAckB,iBAAiB,SAASC,IACtC,MAAMR,EAAOQ,EAAEC,OAEXT,EAAKU,UAAUC,SAAS,wBAC1B,EAAAC,EAAAC,+BAA8BL,GAC9BZ,QAAQC,IAAI,8BAEVG,EAAKU,UAAUC,SAAS,wBAC1Bf,QAAQC,IAAI,iCAelB,SAA2BW,GACzB,MAAMM,EAAUnC,KAAKC,MAAMmC,aAAaC,QA9EnB,oBA+ErB,IAAIC,EAAYT,EAAEC,OAAOS,QAAQ,aAAa5C,GAC9C,MAAM6C,EAAcL,EAAQM,QAAQC,GAAOA,IAAOJ,IAClDF,aAAaO,QAjFQ,kBAiFgB3C,KAAK4C,UAAUJ,IACpDK,G,CAnBIC,CAAkBjB,G,IAMxBkB,eAAeF,IACb,MAAMG,EA1DQ,WACd,MAAMb,EAAUnC,KAAKC,MAAMmC,aAAaC,QAbnB,oBAcrBpB,QAAQC,IAAIiB,GAEZ,MAAMa,EAAWb,EAAQc,QAAO,CAACC,EAAKvD,KACpCuD,EAAIC,KAAKtC,EAAWuC,kBAAkBzD,IAC/BuD,IACN,IAEH,OADAjC,QAAQC,IAAI8B,GACLA,C,CAiDUK,GAGjBtC,SAhD2BgC,eAAEO,GAE7B,OADWC,QAAQC,IAAIF,GAAaG,OAAMC,GAASzC,QAAQC,IAAIwC,I,CA6C5CC,CAAgBX,IACbY,SAAQnE,GAAKA,I,CA/DrCoD,I","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-3993ec1d857d271c.js","src/scripts/favorite-ings.js","src/scripts/render/render-fav-ing.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5LAB1\\\":\\\"favorites-ingredients.2d99e0ae.js\\\",\\\"8OQ7p\\\":\\\"icons.bed00c8b.svg\\\",\\\"3l6TX\\\":\\\"favorites-ingredients.f5cd7a42.js\\\",\\\"6fQJJ\\\":\\\"favorites-ingredients.f0fc6649.js\\\"}\"));","import './favorites/favorite-ing';\nimport './common/dropdown-menu';\nimport './common/mobile-menu';\nimport './common/theme-toggler';\nimport './modals/open-close-modal';\nimport './common/input-validation';\nimport './common/slider_glide';\nimport './common/dropdown-menu-mob';\nimport './favorites/favorite-ing'\nimport './render/render-fav-ing'\nimport './favorites/search-favorites';\nimport './modals/team-modal';","import ApiService from '../api/apiService';\nimport icons from '../../images/icons.svg';\nimport { handleOpenModalIngridientsFav } from '../home/open-close-modalIng';\nconst LS_KEY_FAV_ING = 'Fav-Ingredients';\n\n\nconst favIngWrapper = document.querySelector('.fav-ing-wrapper');\n// const favIngOpener = document.querySelector('.js-fav-ing-opener');\nconst apiService = new ApiService();\n// favIngOpener.addEventListener('click', getFavIngData);\n// const promisesIng = makePromises();\n\ngetFavIngData();\n\n// Генеруємо проміси ing.\nfunction makePromises() {\n  const favIngs = JSON.parse(localStorage.getItem(LS_KEY_FAV_ING));\n  console.log(favIngs);\n  // const promises = favIngs.reduce((acc, id)=> {return acc.push(apiService.fetchDataByIdIngr(id))}, [])\n  const promises = favIngs.reduce((acc, id) => {\n    acc.push(apiService.fetchDataByIdIngr(id));\n    return acc;\n  }, []);\n  console.log(promises);\n  return promises;\n}\n\n// Чекаємо виконання всіх промісів з fav ing\nasync function waitAllPromises(promisesIng) {\n  const pr = Promise.all(promisesIng).catch(error => console.log(error));\n  return pr;\n}\n\nfunction renderFavIng(data) {\n  console.log(data);\n\n  const galleryItems = data\n    .map(elem => {\n      return `\n            <li class=\"favorite\" id=\"${elem.idIngredient}\">\n                <h3 class=\"favorite__title\">${elem.strIngredient}</h3>\n                <p class=\"favorite__text\">${elem.strType}</p>\n                <div class=\"button\">\n                    <button type=\"button\" class=\"button__btn button__btn--learn-more js-learn-more-ing\">Learn more</button>\n                    <button type=\"button\" class=\"button__btn button__btn--add-to js-remove-ing-card\">Remove\n                        <svg class=\"button__icon\">\n                            <use class=\"icon-heart\" href=\"${icons}#icon-heart_fill\"></use>\n                        </svg>\n                 </button>\n                </div>\n            </li>\n            `;\n    })\n    .join('');\n  // favIngWrapper.insertAdjacentHTML('beforeend', galleryItems);\n  favIngWrapper.innerHTML = galleryItems;\n\n  favIngWrapper.addEventListener('click', e => {\n    const elem = e.target;\n\n    if (elem.classList.contains('js-learn-more-ing')) {\n      handleOpenModalIngridientsFav(e);\n      console.log('click on \"Learn more ing\"');\n    }\n    if (elem.classList.contains('js-remove-ing-card')) {\n      console.log('click on \"Remove from button\"');\n      removeFromFavIngs(e);\n    }\n  });\n}\n\n// Отримуємо данні з fav ing\nasync function getFavIngData() {\n  const promises = makePromises();\n  const data = await waitAllPromises(promises);\n  const flatData = data.flatMap(i => i);\n  renderFavIng(flatData);\n}\n\n\nfunction removeFromFavIngs(e) {\n  const favIngs = JSON.parse(localStorage.getItem(LS_KEY_FAV_ING));\n  let favIngrID = e.target.closest('.favorite').id;\n  const newFawarite = favIngs.filter((el) => el !== favIngrID);\n  localStorage.setItem(LS_KEY_FAV_ING, JSON.stringify(newFawarite));\n  getFavIngData();\n  return;\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$71tSV","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$29d6e69a19fdc013$var$favIngWrapper","document","querySelector","$29d6e69a19fdc013$var$apiService","default","$29d6e69a19fdc013$var$renderFavIng","data","console","log","galleryItems","map","elem","idIngredient","strIngredient","strType","$parcel$interopDefault","join","innerHTML","addEventListener","e","target","classList","contains","$7aX81","handleOpenModalIngridientsFav","favIngs","localStorage","getItem","favIngrID","closest","newFawarite","filter","el","setItem","stringify","$29d6e69a19fdc013$var$getFavIngData","$29d6e69a19fdc013$var$removeFromFavIngs","async","promises","reduce","acc","push","fetchDataByIdIngr","$29d6e69a19fdc013$var$makePromises","promisesIng","Promise","all","catch","error","$29d6e69a19fdc013$var$waitAllPromises","flatMap"],"version":3,"file":"favorites-ingredients.2d99e0ae.js.map"}