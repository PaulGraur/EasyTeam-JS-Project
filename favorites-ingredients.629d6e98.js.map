{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-4d98b4a5c18a2b88.js","src/scripts/favorite-ings.js","src/scripts/render/render-fav-ing.js","node_modules/@parcel/runtime-js/lib/runtime-a36332f83189caa8.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"79vuG\\\":\\\"favorites-ingredients.629d6e98.js\\\",\\\"410VS\\\":\\\"icons.bed00c8b.svg\\\",\\\"ihUdp\\\":\\\"favorites-ingredients.3693f241.js\\\",\\\"kWEev\\\":\\\"favorites-ingredients.4e4a9719.js\\\"}\"));","// import './favorites/favorite-coctails';\n// import './favorites/cocktails-by-letter'\nimport './favorites/favorite-ing';\nimport './common/dropdown-menu';\nimport './common/mobile-menu';\nimport './common/theme-toggler';\nimport './modals/open-close-modal';\nimport './common/footer';\nimport './common/input-validation';\n// import './common/render_footer_modal';\nimport './common/slider_glide';\nimport './common/dropdown-menu-mob';\nimport './common/theme-toggler-mobile';\nimport './favorites/favorite-ing'\nimport './render/render-fav-ing'\nimport './favorites/search-favorites';\nimport './modals/team-modal';","import ApiService from '../api/apiService';\nimport icons from '../../images/icons.svg';\nimport { handleOpenModalIngridientsFav } from '../home/open-close-modalIng';\nconst LS_KEY_FAV_ING = 'Fav-Ingredients';\n\n\nconst favIngWrapper = document.querySelector('.fav-ing-wrapper');\n// const favIngOpener = document.querySelector('.js-fav-ing-opener');\nconst apiService = new ApiService();\n// favIngOpener.addEventListener('click', getFavIngData);\n// const promisesIng = makePromises();\n\ngetFavIngData();\n\n// Генеруємо проміси ing.\nfunction makePromises() {\n  const favIngs = JSON.parse(localStorage.getItem(LS_KEY_FAV_ING));\n  console.log(favIngs);\n  // const promises = favIngs.reduce((acc, id)=> {return acc.push(apiService.fetchDataByIdIngr(id))}, [])\n  const promises = favIngs.reduce((acc, id) => {\n    acc.push(apiService.fetchDataByIdIngr(id));\n    return acc;\n  }, []);\n  console.log(promises);\n  return promises;\n}\n\n// Чекаємо виконання всіх промісів з fav ing\nasync function waitAllPromises(promisesIng) {\n  const pr = Promise.all(promisesIng).catch(error => console.log(error));\n  return pr;\n}\n\nfunction renderFavIng(data) {\n  console.log(data);\n\n  const galleryItems = data\n    .map(elem => {\n      return `\n            <li class=\"favorite\" id=\"${elem.idIngredient}\">\n                <h3 class=\"favorite__title\">${elem.strIngredient}</h3>\n                <p class=\"favorite__text\">${elem.strType}</p>\n                <div class=\"button\">\n                    <button type=\"button\" class=\"button__btn button__btn--learn-more js-learn-more-ing\">Learn more</button>\n                    <button type=\"button\" class=\"button__btn button__btn--add-to js-remove-ing-card\">Remove\n                        <svg class=\"button__icon\">\n                            <use class=\"icon-heart\" href=\"${icons}#icon-heart_fill\"></use>\n                        </svg>\n                 </button>\n                </div>\n            </li>\n            `;\n    })\n    .join('');\n  // favIngWrapper.insertAdjacentHTML('beforeend', galleryItems);\n  favIngWrapper.innerHTML = galleryItems;\n\n  favIngWrapper.addEventListener('click', e => {\n    const elem = e.target;\n\n    if (elem.classList.contains('js-learn-more-ing')) {\n      handleOpenModalIngridientsFav(e);\n      console.log('click on \"Learn more ing\"');\n    }\n    if (elem.classList.contains('js-remove-ing-card')) {\n      console.log('click on \"Remove from button\"');\n      removeFromFavIngs(e);\n    }\n  });\n}\n\n// Отримуємо данні з fav ing\nasync function getFavIngData() {\n  const promises = makePromises();\n  const data = await waitAllPromises(promises);\n  const flatData = data.flatMap(i => i);\n  renderFavIng(flatData);\n}\n\n\nfunction removeFromFavIngs(e) {\n  const favIngs = JSON.parse(localStorage.getItem(LS_KEY_FAV_ING));\n  let favIngrID = e.target.closest('.favorite').id;\n  const newFawarite = favIngs.filter((el) => el !== favIngrID);\n  localStorage.setItem(LS_KEY_FAV_ING, JSON.stringify(newFawarite));\n  getFavIngData();\n  return;\n}","module.exports = require('./helpers/bundle-url').getBundleURL('79vuG') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$9f0635733807ee6d$exports","getBundleURL","resolve","$5af948b0c1792eb0$var$LS_KEY_FAV_ING","$5af948b0c1792eb0$var$favIngWrapper","document","querySelector","$5af948b0c1792eb0$var$apiService","$fS79u","default","$5af948b0c1792eb0$var$makePromises","favIngs","localStorage","getItem","console","log","promises","reduce","acc","push","fetchDataByIdIngr","$5af948b0c1792eb0$var$waitAllPromises","promisesIng","$5af948b0c1792eb0$var$_waitAllPromises","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","pr","Promise","all","catch","error","$5af948b0c1792eb0$var$renderFavIng","data","galleryItems","map","elem","concat","idIngredient","strIngredient","strType","join","innerHTML","addEventListener","e","target","classList","contains","$bofVl","handleOpenModalIngridientsFav","favIngrID","closest","newFawarite","filter","el","setItem","stringify","$5af948b0c1792eb0$var$getFavIngData","$5af948b0c1792eb0$var$removeFromFavIngs","$5af948b0c1792eb0$var$_getFavIngData","_ctx","sent","flatMap"],"version":3,"file":"favorites-ingredients.629d6e98.js.map"}