!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire6a5d;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequire6a5d=a),a("iE7OH").register(JSON.parse('{"2bpdQ":"index.33442da2.js","410VS":"icons.bed00c8b.svg","ihUdp":"favorites-ingredients.3693f241.js"}'));var s,i=a("bpxeT"),o=a("2TvXO"),c=(i=a("bpxeT"),a("8MBJY")),u=a("a2hTj"),l=(o=a("2TvXO"),a("fS79u")),d=a("itMGD"),f=a("7VzSS");s=a("aNJCr").getBundleURL("2bpdQ")+a("iE7OH").resolve("410VS");var m=a("9KmN7"),v=document.querySelector(".gallery__wrapper"),p=document.querySelector(".pagination__btn-next"),g=document.querySelector(".pagination__btn-prev"),b=document.querySelector(".pagination__items-wrapper"),h=document.querySelector(".pagination"),L="SearchFromFavorites",y=document.querySelector(".input"),_=JSON.parse(localStorage.getItem(L)),x=new(0,l.default),w=new(0,d.default),P=new(0,m.default),S=function(){"use strict";function t(){e(c)(this,t),this.currentData=[],this.promises=[],this.screenWidth=window.innerWidth,this.paginationLimit,this.currentPage=1,this.pageCount}return e(u)(t,[{key:"numberOfItemsPerPage",value:function(){return this.screenWidth<768?this.paginationLimit=3:this.screenWidth>=768&&this.screenWidth<1280?this.paginationLimit=6:this.screenWidth>1280?this.paginationLimit=9:void 0}},{key:"randomCoctails",value:function(){for(var e=0;e<this.paginationLimit;e+=1)this.promises.push(x.fetchRandomData());return this.promises}},{key:"allPromises",value:function(e){return this.promises=Promise.all(e).catch((function(e){return console.log(e)}))}},{key:"clearGallery",value:function(){v.innerHTML=""}},{key:"getRandomData",value:function(){var t=this;return e(i)(e(o).mark((function n(){var r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.numberOfItemsPerPage(),t.randomCoctails(),e.next=4,t.allPromises(t.promises);case 4:r=e.sent,a=r.flatMap((function(e){return e})),w.renderGallery(a);case 7:case"end":return e.stop()}}),n)})))()}},{key:"getDataByName",value:function(t){return e(i)(e(o).mark((function n(){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fetchDataByName(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),n)})))()}},{key:"getDataByLetter",value:function(t){return e(i)(e(o).mark((function n(){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fetchDataByLetter(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),n)})))()}},{key:"setPaginationArrowsStatus",value:function(){1===this.currentPage?g.setAttribute("disabled",!0):g.removeAttribute("disabled"),this.pageCount===this.currentPage?p.setAttribute("disabled",!0):p.removeAttribute("disabled")}},{key:"addPaginationHandler",value:function(){var e=this;h.addEventListener("click",(function(t){var n=t.target,r=n.closest(".pagination__btn-prev"),a=n.closest(".pagination__btn-next"),s=n.closest(".num-btn");if(Number(null==s?void 0:s.textContent)!==e.currentPage){if((null==s?void 0:s.textContent)&&e.setCurrentPage(Number(s.textContent)),r){if(1===e.currentPage)return;e.setCurrentPage(e.currentPage-=1)}if(a){if(e.pageCount===e.currentPage)return;e.setCurrentPage(e.currentPage+=1)}}}))}},{key:"renderPaginationList",value:function(){b.innerHTML="";for(var e="",t=1;t<this.pageCount+1;t+=1){var n=t===this.currentPage;e+='<li class="pagination__item">\n                    <button type="button" class="'.concat(n?"pagination__btn num-btn pagination__btn--active":"pagination__btn num-btn",'">').concat(t,"</button>\n                  </li>")}b.insertAdjacentHTML("beforeend",e)}},{key:"setCurrentPage",value:function(t,n){var r=this;return e(i)(e(o).mark((function a(){var s,i,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&(r.currentData=n,r.addPaginationHandler()),!(r.currentData.length<=r.paginationLimit)){e.next=6;break}return r.clearGallery(),w.renderGallery(n),h.classList.add("is-hidden"),e.abrupt("return");case 6:r.currentPage=t,s=(t-1)*r.paginationLimit,i=t*r.paginationLimit,r.setPaginationArrowsStatus(),r.pageCount=Math.ceil(r.currentData.length/r.paginationLimit),c=r.currentData.slice(s,i),r.renderPaginationList(),h.classList.remove("is-hidden"),r.clearGallery(),w.renderGallery(c);case 16:case"end":return e.stop()}}),a)})))()}}]),t}(),k=new S;function T(){return(T=e(i)(e(o).mark((function t(){var n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!_){t.next=12;break}return k.clearGallery(),y.placeholder=_,k.numberOfItemsPerPage(),t.next=6,k.getDataByName(_);case 6:n=t.sent,k.setCurrentPage(1,n),localStorage.removeItem(L),v.addEventListener("click",(function(t){var n=t.target,r=n.closest(".buttons__btn--add-to"),a=n.closest(".fav-buttons__btn--remove");n.classList.contains("buttons__btn--learn-more")&&(0,f.handleOpenCloseModal)(t),r&&(r.classList.remove("buttons__btn--add-to"),r.classList.add("fav-buttons__btn--remove"),r.innerHTML='Remove<svg class="buttons__icon"><use href="'.concat(e(s),'#heart"></use></svg>'),P.addToFavorite(r)),a&&(console.log("removeBtn: ",a),a.classList.remove("fav-buttons__btn--remove"),a.classList.add("buttons__btn--add-to"),a.innerHTML='Add to<svg class="buttons__icon"><use href="'.concat(e(s),'#heart"></use></>'),P.removeFromFavoriteFromGallery(a))})),t.next=13;break;case 12:k.getRandomData(),v.addEventListener("click",(function(t){var n=t.target,r=n.closest(".buttons__btn--add-to"),a=n.closest(".fav-buttons__btn--remove");n.classList.contains("buttons__btn--learn-more")&&(0,f.handleOpenCloseModal)(t),r&&(r.classList.remove("buttons__btn--add-to"),r.classList.add("fav-buttons__btn--remove"),r.innerHTML='Remove<svg class="buttons__icon"><use href="'.concat(e(s),'#heart"></use></svg>'),P.addToFavorite(r)),a&&(console.log("removeBtn: ",a),a.classList.remove("fav-buttons__btn--remove"),a.classList.add("buttons__btn--add-to"),a.innerHTML='Add to<svg class="buttons__icon"><use href="'.concat(e(s),'#heart"></use></>'),P.removeFromFavoriteFromGallery(a))}));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){T.apply(this,arguments)}();var M=document.querySelector(".search-form"),C=document.querySelector(".search-form-mobile"),D=document.querySelector(".input"),q=new S;function E(e){return O.apply(this,arguments)}function O(){return(O=e(i)(e(o).mark((function t(n){var r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D.value.trim(),n.preventDefault(),q.clearGallery(),!r){e.next=9;break}return q.numberOfItemsPerPage(),e.next=7,q.getDataByName(r);case 7:a=e.sent,q.setCurrentPage(1,a);case 9:M.reset();case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}M.addEventListener("submit",E),C.addEventListener("submit",E),a("FI8sv"),a("8UENF"),a("1ICs6"),a("bXg0u");i=a("bpxeT"),o=a("2TvXO");var H={letterBox:document.querySelector(".search-container"),gallery:document.querySelector(".gallery__wrapper"),openListLetter:document.querySelector(".open-list-letter"),selectLetterMb:document.querySelector(".select-letter-mb"),selectidLetterMbBox:document.querySelector(".selectid-letter-mb-box"),selectidLetterMb:document.querySelector(".selectid-letter-mb"),galleryTitle:document.querySelector(".gallery__title")},B=new S,F='<div class="not-found">\n<h2 class="not-found__title">Sorry, we didn\'t find any cocktail for you</h2>\n<svg class="not-found__icon">\n  <use href="'.concat(e(s),'#icon-sorry"></use>\n</svg>\n</div>');function A(){return(A=e(i)(e(o).mark((function t(n){var r,a,s,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("search-box"===n.target.classList.value){e.next=2;break}return e.abrupt("return");case 2:return(r=document.querySelector(".search-box.is-active"))&&r.classList.remove("is-active"),B.clearGallery(),a=n.target,s=n.target.textContent,B.numberOfItemsPerPage(),e.next=10,B.getDataByLetter(s);case 10:i=e.sent,console.log(H.galleryTitle),null===i?(H.galleryTitle.classList.add("is-hidden"),H.gallery.innerHTML=F):(B.setCurrentPage(1,i),H.galleryTitle.classList.remove("is-hidden")),a.classList.add("is-active");case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function G(){return(G=e(i)(e(o).mark((function t(n){var r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("search-box-mb"===n.target.classList.value){e.next=2;break}return e.abrupt("return");case 2:return r=n.target.textContent,B.numberOfItemsPerPage(),e.next=6,B.getDataByLetter(r);case 6:null===(a=e.sent)?(H.galleryTitle.classList.add("is-hidden"),H.gallery.innerHTML=F):(B.setCurrentPage(1,a),H.galleryTitle.classList.remove("is-hidden")),N(r),H.selectLetterMb.classList.toggle("hiden");case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function N(e){H.selectidLetterMb.textContent=e,H.selectidLetterMbBox.classList.add("selectid")}H.letterBox.addEventListener("click",(function(e){return A.apply(this,arguments)})),H.openListLetter.addEventListener("click",(function(){H.selectidLetterMbBox.classList.contains("selectid")&&H.selectidLetterMbBox.classList.remove("selectid");H.selectLetterMb.classList.toggle("hiden"),H.openListLetter.classList.toggle("open")})),H.selectLetterMb.addEventListener("click",(function(e){return G.apply(this,arguments)})),a("bXg0u"),a("7AGzh"),a("7VzSS"),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#toTop");window.addEventListener("scroll",(function(){pageYOffset>100?e.classList.add("show"):e.classList.remove("show")})),e.onclick=function(e){e.preventDefault(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,n=document.scrollingElement||document.documentElement,r=n.scrollTop,a=e-r,s=+new Date,i=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},o=function(){var c=+new Date-s;n.scrollTop=parseInt(i(c,r,a,t)),c<t?requestAnimationFrame(o):n.scrollTop=e};o()}(0,400)}})),a("dl1Rs"),a("kTjSb")}();
//# sourceMappingURL=index.33442da2.js.map
